import{g as C}from"./index-CZvnLVXQ.js";import{d as U,r as g,o as B,c as p,w as t,a as n,b as o,e as w,f as s,t as x,g as J,h as O,F as V,i as D,j as m,_ as F}from"./index-i59ZMC1g.js";const j=U({__name:"index",setup(q){const d=g(),_=g([]),v=()=>{window.sessionStorage.getItem("getUserList")||C("getUserList",{}).then(e=>{var u;_.value=e.list||[];const i=window.localStorage.getItem("userInfo");if(!i)window.localStorage.setItem("userInfo",JSON.stringify(e.list[0])),d.value=(u=_.value[0])==null?void 0:u.userName;else{const f=JSON.parse(i);d.value=f.userName}window.sessionStorage.setItem("getUserList","isLoading")})},N=r=>{window.localStorage.setItem("userInfo",JSON.stringify(r)),d.value=r.userName};return B(()=>{v()}),(r,e)=>{const i=n("el-button"),u=n("el-dropdown-item"),f=n("el-dropdown-menu"),y=n("el-dropdown"),I=n("el-header"),l=n("el-menu-item"),L=n("el-menu"),S=n("el-aside"),k=n("router-view"),b=n("el-main"),c=n("el-container");return m(),p(c,{class:"container"},{default:t(()=>[o(I,{class:"header"},{default:t(()=>[e[1]||(e[1]=w("div",null,"ak-design工作流引擎",-1)),w("div",null,[s("用户："+x(d.value)+" ",1),o(y,{onCommand:N},{dropdown:t(()=>[o(f,null,{default:t(()=>[(m(!0),J(V,null,O(_.value,a=>(m(),p(u,{key:a.id,command:a},{default:t(()=>[s(x(a.userName),1)]),_:2},1032,["command"]))),128))]),_:1})]),default:t(()=>[o(i,{size:"small",type:"primary"},{default:t(()=>e[0]||(e[0]=[s("切换用户")])),_:1})]),_:1})])]),_:1}),o(c,null,{default:t(()=>[o(S,{width:"160px",class:"aside"},{default:t(()=>[o(L,{router:"","background-color":"#001529","text-color":"#fff","active-text-color":"#ffd04b"},{default:t(()=>[o(l,{index:"flow"},{default:t(()=>e[2]||(e[2]=[s("流程设计")])),_:1}),o(l,{index:"applyList"},{default:t(()=>e[3]||(e[3]=[s("发起申请")])),_:1}),o(l,{index:"my"},{default:t(()=>e[4]||(e[4]=[s("我发起的")])),_:1}),o(l,{index:"todo"},{default:t(()=>e[5]||(e[5]=[s("我的待办")])),_:1}),o(l,{index:"done"},{default:t(()=>e[6]||(e[6]=[s("我的已办")])),_:1}),o(l,{index:"copy"},{default:t(()=>e[7]||(e[7]=[s("我的抄送")])),_:1})]),_:1})]),_:1}),o(b,null,{default:t(()=>[o(k,null,{default:t(({Component:a})=>[(m(),p(D(a)))]),_:1})]),_:1})]),_:1})]),_:1})}}}),M=F(j,[["__scopeId","data-v-d72d744d"]]);export{M as default};
