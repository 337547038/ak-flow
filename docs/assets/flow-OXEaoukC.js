import{_ as R}from"./form1-DxWG5xwM.js";import{g as c}from"./index-CUSb-CMr.js";import{f as $}from"./index-spZowfxC.js";import{e as S,f as b,i as A,g as V,h as F,a as l,w as o,r as s,b as d,t as G,u as U,F as x,j as T,o as p,c as B}from"./index-92Ul4bYf.js";const H={class:"design-list"},I={style:{display:"flex","justify-content":"flex-end","margin-bottom":"18px"}},X=S({__name:"flow",setup(J){const k=b([]),m=b(!1),n=b({name:"",status:1,formType:"0",classify:0}),f=b([]),j=a=>{n.value.form="",a==="0"?w():C()},w=()=>{c("getForm","").then(a=>{f.value=a})},C=()=>{const a=Object.assign({"../components/form/form1.vue":R});f.value=[],console.log(a);for(const e in a){const u=a[e].default;f.value.push({label:u.name,value:u.__name})}},q=a=>{m.value=!0,n.value=a,a.formType==="0"?w():C()},D=()=>{window.location.href="https://337547038.github.io/vue-form-design/#/design/form"},L=()=>{c("getFlow","").then(a=>{k.value=a})};return A(()=>{L()}),(a,e)=>{const u=s("el-button"),r=s("el-table-column"),N=s("el-tag"),O=s("el-table"),y=s("el-input"),i=s("el-form-item"),v=s("el-option"),g=s("el-select"),z=s("el-switch"),E=s("el-form"),M=s("el-drawer");return p(),V("div",null,[F("div",H,[l(u,{type:"primary",onClick:e[0]||(e[0]=t=>a.$router.push({path:"/design"}))},{default:o(()=>e[10]||(e[10]=[d("新增设计")])),_:1}),l(O,{data:k.value,style:{width:"100%"}},{default:o(()=>[l(r,{type:"selection",width:"55"}),l(r,{prop:"name",label:"流程名称"}),l(r,{prop:"code",label:"标识"}),l(r,{prop:"classify",label:"分类"},{default:o(({row:t})=>[l(N,null,{default:o(()=>[d(G(U($)[t.classify]),1)]),_:2},1024)]),_:1}),l(r,{prop:"status",label:"状态"}),l(r,{prop:"date",label:"更新时间",width:"180"}),l(r,{label:"操作",width:"200"},{default:o(t=>[l(u,{link:"",type:"primary",onClick:_=>a.$router.push({path:"/design",query:{id:t.row.id,type:"detail"}})},{default:o(()=>e[11]||(e[11]=[d("查看 ")])),_:2},1032,["onClick"]),l(u,{link:"",type:"primary",onClick:_=>a.$router.push({path:"/design",query:{id:t.row.id}})},{default:o(()=>e[12]||(e[12]=[d("编辑 ")])),_:2},1032,["onClick"]),l(u,{link:"",type:"primary",onClick:_=>q(t.row)},{default:o(()=>e[13]||(e[13]=[d("设置")])),_:2},1032,["onClick"]),l(u,{link:"",type:"danger"},{default:o(()=>e[14]||(e[14]=[d("删除")])),_:1})]),_:1})]),_:1},8,["data"])]),l(M,{modelValue:m.value,"onUpdate:modelValue":e[9]||(e[9]=t=>m.value=t),direction:"rtl",size:"500",title:"流程设置"},{default:o(()=>[l(E,{"label-width":"100",model:n.value},{default:o(()=>[l(i,{label:"流程名称"},{default:o(()=>[l(y,{placeholder:"请输入流程名称",modelValue:n.value.name,"onUpdate:modelValue":e[1]||(e[1]=t=>n.value.name=t)},null,8,["modelValue"])]),_:1}),l(i,{label:"流程标识"},{default:o(()=>[l(y,{placeholder:"请输入流程标识",modelValue:n.value.code,"onUpdate:modelValue":e[2]||(e[2]=t=>n.value.code=t)},null,8,["modelValue"])]),_:1}),l(i,{label:"分类"},{default:o(()=>[l(g,{modelValue:n.value.classify,"onUpdate:modelValue":e[3]||(e[3]=t=>n.value.classify=t)},{default:o(()=>[(p(!0),V(x,null,T(U($),(t,_)=>(p(),B(v,{value:_,label:t},null,8,["value","label"]))),256))]),_:1},8,["modelValue"])]),_:1}),l(i,{label:"状态"},{default:o(()=>[l(z,{modelValue:n.value.status,"onUpdate:modelValue":e[4]||(e[4]=t=>n.value.status=t),"active-value":1,"inactive-value":0,"active-text":"启用","inactive-text":"禁用"},null,8,["modelValue"])]),_:1}),l(i,{label:"图标"},{default:o(()=>[l(y,{placeholder:"选择icon图标"})]),_:1}),l(i,{label:"表单类型"},{default:o(()=>[l(g,{modelValue:n.value.formType,"onUpdate:modelValue":e[5]||(e[5]=t=>n.value.formType=t),onChange:j},{default:o(()=>[l(v,{value:"0",label:"在线创建"}),l(v,{value:"1",label:"本地表单"})]),_:1},8,["modelValue"])]),_:1}),F("div",I,[l(u,{type:"primary",link:"",onClick:D},{default:o(()=>e[15]||(e[15]=[d("新建表单")])),_:1})]),l(i,{label:"选择表单"},{default:o(()=>[l(g,{modelValue:n.value.form,"onUpdate:modelValue":e[6]||(e[6]=t=>n.value.form=t)},{default:o(()=>[(p(!0),V(x,null,T(f.value,t=>(p(),B(v,{key:t.value,value:t.value,label:t.label},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(i,null,{default:o(()=>[l(u,{type:"primary",onClick:e[7]||(e[7]=t=>m.value=!1)},{default:o(()=>e[16]||(e[16]=[d("保存")])),_:1}),l(u,{onClick:e[8]||(e[8]=t=>m.value=!1)},{default:o(()=>e[17]||(e[17]=[d("取消")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}});export{X as default};
