const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./form1-DxWG5xwM.js","./index-92Ul4bYf.js","./index-Dht4vBgo.css"])))=>i.map(i=>d[i]);
import{e as C,f as l,i as E,g as F,a as r,r as p,w as c,c as _,p as v,q as V,d as h,u as q,b as B,s as M,v as N,n as y,o as u}from"./index-92Ul4bYf.js";import{g as P}from"./index-CUSb-CMr.js";import{_ as R}from"./index.vue_vue_type_script_setup_true_lang-BHoRYtKv.js";const x=(f,n,m)=>{const t=f[n];return t?typeof t=="function"?t():Promise.resolve(t):new Promise((i,s)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(s.bind(null,new Error("Unknown variable dynamic import: "+n+(n.split("/").length!==m?". Note that variables only represent file names one level deep.":""))))})},L=C({__name:"flowDetail",props:{detail:{type:Boolean,default:!0}},setup(f,{expose:n}){const m=f,t=l(),i=l(),s=l(),d=l(),b=l(!1),w=e=>{P("getFlow").then(o=>{const a=o[parseInt(e)-1];s.value=a.formType,t.value.render(a.flow),g(a)})},g=async e=>{if(e.formType==="1"){const o=await x(Object.assign({"../../components/form/form1.vue":()=>M(()=>import("./form1-DxWG5xwM.js").then(a=>a._),__vite__mapDeps([0,1,2]),import.meta.url)}),`../../components/form/${e.form}.vue`,5);d.value=N(o.default)}},k=()=>{y(()=>{setTimeout(()=>{i.value.setValue({type:"1",startDate:"1991-01-01",endDate:"1991-01-02",day:2,remark:"想请就请，不需要理由"})},500)})},D=e=>{y(()=>{if(e==="flow"&&m.detail&&!b.value){b.value=!0;const o={history:["216a1b8b-a172-481d-a034-27c2e84232b1","bf576207-d6f2-4f1d-858a-cc87741eea82","876a4605-bc46-4bae-ae1b-0aa518831845","c216ba26-523e-4029-9bcf-c0219fca8b29","75e161ba-2fda-4d61-b9a4-35096eeca9ef"],active:["8cdc509c-4d6b-4d84-b070-ead0728ebbca","eefc675c-15d4-487d-99d5-15047c6f9106"],info:["ab41bdb7-c590-43e9-8013-ab0dc3b0b386"],danger:[]};t.value.setStatus(o)}})};return n({getFlowData:w,setFormValue:k}),E(()=>{}),(e,o)=>{const a=p("el-tab-pane"),T=p("el-tabs");return u(),F("div",null,[r(T,{onTabChange:D,"model-value":"form"},{default:c(()=>[r(a,{label:"表单",name:"form"},{default:c(()=>[s.value==="1"?(u(),_(h(d.value),{key:0,ref_key:"flowFormEl",ref:i,disabled:e.detail},null,8,["disabled"])):v("",!0),V(e.$slots,"default")]),_:3}),r(a,{label:"流程图",name:"flow"},{default:c(()=>[r(q(R),{isSilentMode:!0,ref_key:"flowDesignEl",ref:t},null,512)]),_:1}),e.detail?(u(),_(a,{key:0,label:"审批记录",name:"recoder"},{default:c(()=>o[0]||(o[0]=[B("审批记录")])),_:1})):v("",!0)]),_:3})])}}});export{L as _};
