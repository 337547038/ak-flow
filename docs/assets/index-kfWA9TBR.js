import{g as L}from"./index-BP2T5S1M.js";import{d as B,r as c,o as J,c as f,w as o,a as n,b as t,e as w,f as l,t as g,g as O,h as U,F as V,i as D,j as i,_ as F}from"./index-CGLXuONG.js";const j=B({__name:"index",setup(q){const r=c(),m=c([]),x=()=>{L("getUserList",{}).then(s=>{var u;m.value=s.list||[];const e=window.localStorage.getItem("userInfo");if(!e)window.localStorage.setItem("userInfo",JSON.stringify(s.list[0])),r.value=(u=m.value[0])==null?void 0:u.userName;else{const _=JSON.parse(e);r.value=_.userName}})},v=s=>{window.localStorage.setItem("userInfo",JSON.stringify(s)),r.value=s.userName};return J(()=>{x()}),(s,e)=>{const u=n("el-button"),_=n("el-dropdown-item"),N=n("el-dropdown-menu"),y=n("el-dropdown"),I=n("el-header"),a=n("el-menu-item"),S=n("el-menu"),k=n("el-aside"),b=n("router-view"),C=n("el-main"),p=n("el-container");return i(),f(p,{class:"container"},{default:o(()=>[t(I,{class:"header"},{default:o(()=>[e[1]||(e[1]=w("div",null,"ak-design工作流引擎",-1)),w("div",null,[l("用户："+g(r.value)+" ",1),t(y,{onCommand:v},{dropdown:o(()=>[t(N,null,{default:o(()=>[(i(!0),O(V,null,U(m.value,d=>(i(),f(_,{key:d.id,command:d},{default:o(()=>[l(g(d.userName),1)]),_:2},1032,["command"]))),128))]),_:1})]),default:o(()=>[t(u,{size:"small",type:"primary"},{default:o(()=>e[0]||(e[0]=[l("切换用户")])),_:1})]),_:1})])]),_:1}),t(p,null,{default:o(()=>[t(k,{width:"160px",class:"aside"},{default:o(()=>[t(S,{router:"","background-color":"#001529","text-color":"#fff","active-text-color":"#ffd04b"},{default:o(()=>[t(a,{index:"flow"},{default:o(()=>e[2]||(e[2]=[l("流程设计")])),_:1}),t(a,{index:"applyList"},{default:o(()=>e[3]||(e[3]=[l("发起申请")])),_:1}),t(a,{index:"my"},{default:o(()=>e[4]||(e[4]=[l("我发起的")])),_:1}),t(a,{index:"todo"},{default:o(()=>e[5]||(e[5]=[l("我的待办")])),_:1}),t(a,{index:"done"},{default:o(()=>e[6]||(e[6]=[l("我的已办")])),_:1}),t(a,{index:"copy"},{default:o(()=>e[7]||(e[7]=[l("我的抄送")])),_:1})]),_:1})]),_:1}),t(C,null,{default:o(()=>[t(b,null,{default:o(({Component:d})=>[(i(),f(D(d)))]),_:1})]),_:1})]),_:1})]),_:1})}}}),M=F(j,[["__scopeId","data-v-d276190f"]]);export{M as default};
