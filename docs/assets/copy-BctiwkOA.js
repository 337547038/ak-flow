import{_ as k}from"./flowDetail.vue_vue_type_script_setup_true_lang-4t6EvdYz.js";import{d as C,f as F,g as x}from"./index-BP2T5S1M.js";import{d as D,r,o as V,g as N,b as t,w as a,a as d,f as n,t as u,u as _,F as T,n as $,j as h}from"./index-CGLXuONG.js";import"./index.vue_vue_type_script_setup_true_lang-BTlCDonN.js";const M=D({__name:"copy",setup(E){const p=r(),f=l=>`${i.value[l.userId]}发起的${l.d_name}`,m=r([]),i=r({}),c=r(!1),b=l=>{c.value=!0,$(()=>{p.value.getFlowData(l.flowId)})},w=()=>{x("getCopyFlow",{}).then(l=>{m.value=l.list,i.value=l.userDict})};return V(()=>{w()}),(l,s)=>{const o=d("el-table-column"),v=d("el-button"),y=d("el-table"),g=d("el-drawer");return h(),N(T,null,[t(y,{data:m.value,style:{width:"100%"}},{default:a(()=>[t(o,{type:"selection",width:"55"}),t(o,{prop:"title",label:"标题",width:"200"},{default:a(({row:e})=>[n(u(f(e)),1)]),_:1}),t(o,{prop:"userName",label:"发起人"},{default:a(({row:e})=>[n(u(i.value[e.userId]),1)]),_:1}),t(o,{prop:"date",label:"抄送时间",width:"180"},{default:a(({row:e})=>[n(u(_(C)(e.dateTime)),1)]),_:1}),t(o,{label:"节点名称",prop:"nodeName"}),t(o,{prop:"classify",label:"流程类型"},{default:a(({row:e})=>[n(u(_(F)[e.d_classify]),1)]),_:1}),t(o,{label:"操作"},{default:a(({row:e})=>[t(v,{link:"",type:"primary",onClick:I=>b(e)},{default:a(()=>s[1]||(s[1]=[n("详情")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),t(g,{modelValue:c.value,"onUpdate:modelValue":s[0]||(s[0]=e=>c.value=e),direction:"rtl",size:"80%",title:"流程详情","destroy-on-close":""},{default:a(()=>[t(k,{ref_key:"flowFormEl",ref:p},null,512)]),_:1},8,["modelValue"])],64)}}});export{M as default};
